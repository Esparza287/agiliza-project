<div ng-controller="ListaUsuarios as listaUsuario" class="wrapper wrapper-content  animated fadeInRight">
    <div class="row">
        <div class="col-sm-8">
            <div class="ibox">
                <div class="ibox-content">
                    <span class="text-muted small pull-right">Última actualización: <i class="fa fa-clock-o"></i> 2:10 pm - 12.06.2014</span>
                    <h2>Usuarios</h2>
                    <p>
                        Para visualizar más información del usuario, debe hacer clic en su RUN.
                    </p>
                    <div class="input-group col-md-12">
                        <input type="text" placeholder="Buscar Usuario  " class="input form-control" ng-model='busqueda'>
                    </div>
                    <div class="clients-list">
                        <ul class="nav nav-tabs">
                            <!-- <span class="pull-right small text-muted">1406 Registros</span> -->
                            <li ng-class="{'active' : tab == 1}"><a ng-click="tab = 1" ng-init="tab = listaUsuario.tipo"><i class="fa fa-user"></i>Alumnos</a></li>
                            <li ng-class="{'active' : tab == 2}"><a ng-click="tab = 2"><i class="fa fa-user"></i>Profesores</a></li>
                            <li ng-class="{'active' : tab == 3}"><a ng-click="tab = 3"><i class="fa fa-user"></i>Administrativos</a></li>
                            <li ng-class="{'active' : tab == 4}"><a ng-click="tab = 4"><i class="fa fa-user"></i>Apoderados</a></li>
                        </ul>
                        <div class="tab-content">
                            <div id="tab-1" class="tab-pane active" ng-show="tab == 1">
                                <div class="full-height-scroll" full-scroll>
                                    <div class="table-responsive">
                                        <table class="table table-striped table-hover">
                                            <tbody>
                                            <tr ng-repeat="alumno in listaUsuario.alumno | filter : busqueda ">
                                                <td><a ng-click="listaUsuario.mostrarLocal(alumno.id_usuario)" class="client-link"><span class="badge badge-success">{{alumno.rut_usuario | rut }}</span></a></td>
                                                <td> {{alumno.apellido_paterno}} {{alumno.apellido_materno}}, {{alumno.nombres_usuario}}</td>
                                                <td><i class="fa fa-phone"></i> {{alumno.telefono_usuario}}</td>
                                                <td><i class="fa fa-map-marker"></i> {{alumno.direccion_usuario}}</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div id="tab-2" class="tab-pane active" ng-show="tab == 2">
                                <div class="full-height-scroll" full-scroll>
                                    <div class="table-responsive">
                                        <table  class="table table-striped table-hover">
                                            <tbody>
                                                <tr ng-repeat="profesor in listaUsuario.profesor | filter : busqueda ">
                                                    <td><a ng-click="listaUsuario.mostrarLocal(profesor.id_usuario)" class="client-link"><span class="badge badge-success">{{profesor.rut_usuario | rut }}</span></a></td>
                                                    <td> {{profesor.apellido_paterno}} {{profesor.apellido_materno}}, {{profesor.nombres_usuario}}</td>
                                                    <td><i class="fa fa-phone"></i> {{profesor.telefono_usuario}}</td>
                                                    <td><i class="fa fa-map-marker"></i> {{profesor.direccion_usuario}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div id="tab-3" class="tab-pane active" ng-show="tab == 3">
                                <div class="full-height-scroll" full-scroll>
                                    <div class="table-responsive">
                                        <table  class="table table-striped table-hover">
                                            <tbody>
                                                <tr ng-repeat="admin in listaUsuario.usuario | filter : busqueda ">
                                                    <td><a ng-click="listaUsuario.mostrarLocal(admin.id_usuario)" class="client-link"><span class="badge badge-success">{{admin.rut_usuario | rut }}</span></a></td>
                                                    <td> {{admin.apellido_paterno}} {{admin.apellido_materno}}, {{admin.nombres_usuario}}</td>
                                                    <td><i class="fa fa-phone"></i> {{admin.telefono_usuario}}</td>
                                                    <td><i class="fa fa-map-marker"></i> {{admin.direccion_usuario}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div id="tab-4" class="tab-pane active" ng-show="tab == 4">
                                <div class="full-height-scroll" full-scroll>
                                    <div class="table-responsive">
                                        <table  class="table table-striped table-hover">
                                            <tbody>
                                                <tr ng-repeat="apoderado in listaUsuario.apoderado | filter : busqueda ">
                                                    <td><a ng-click="listaUsuario.mostrarLocal(apoderado.id_usuario)" class="client-link"><span class="badge badge-success">{{apoderado.rut_usuario | rut }}</span></a></td>
                                                    <td> {{apoderado.apellido_paterno}} {{apoderado.apellido_materno}}, {{apoderado.nombres_usuario}}</td>
                                                    <td><i class="fa fa-phone"></i> {{apoderado.telefono_usuario}}</td>
                                                    <td><i class="fa fa-map-marker"></i> {{apoderado.direccion_usuario}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="ibox ">
                <div class="ibox-content" ng-show="listaUsuario.muestra">
                    <div class="tab-content">
                        <div id="contact-1" class="tab-pane active">
                            <div class="row m-b-lg">
                                <div class="col-lg-4 text-center">
                                    <div class="m-b-sm">
                                        <img alt="image" class="img-circle" src="img/perfil/{{listaUsuario.usuario_show.imagen_url}}" style="width: 62px">
                                    </div>
                                </div>
                                <div class="col-lg-8">
                                    <strong>
                                        {{listaUsuario.usuario_show.nombres_usuario}} {{listaUsuario.usuario_show.apellido_paterno}}
                                        {{listaUsuario.usuario_show.apellido_materno}}
                                    </strong>

                                    <p>
                                        <i class="fa fa-map-marker"></i> {{listaUsuario.usuario_show.direccion_usuario}}
                                    </p>
                                    <a ng-click="listaUsuario.editarUsuario(listaUsuario.usuario_show.id_usuario)" class="btn btn-primary btn-sm btn-block"><i
                                            class="fa fa-pencil"></i> Modificar
                                    </a>
                                </div>
                            </div>
                            <div class="client-detail">
                                <div class="full-height-scroll" full-scroll>

                                    <strong>Información Detallada</strong>

                                    <ul class="list-group clear-list">
                                        <li class="list-group-item">
                                            R.U.N.
                                            <span class="pull-right"> {{listaUsuario.usuario_show.rut_usuario | rut }} </span>
                                        </li>
                                        <li class="list-group-item fist-item">
                                            Correo
                                            <span class="pull-right"> {{listaUsuario.usuario_show.email_usuario}} </span>
                                        </li>
                                        <li class="list-group-item fist-item">
                                            Sexo
                                            <span class="pull-right"> {{listaUsuario.usuario_show.sexo_usuario}} </span>
                                        </li>
                                        <li class="list-group-item fist-item" ng-show="listaUsuario.usuario_show.nivel_alumno != undefined">
                                            Nivel Académico
                                            <span class="pull-right"> {{listaUsuario.usuario_show.nivel_alumno}} </span>
                                        </li>
                                        <li class="list-group-item fist-item">
                                            Teléfono
                                            <span class="pull-right"> {{listaUsuario.usuario_show.telefono_usuario}} </span>
                                        </li>
                                        <li class="list-group-item fist-item">
                                            Última Conexión
                                            <span class="pull-right"> {{listaUsuario.usuario_show.fecha_ultimo_login}} </span>
                                            <span class="pull-right" ng-show="listaUsuario.usuario_show.fecha_ultimo_login == undefined"> Nunca </span>
                                        </li>
                                        <div ng-show="listaUsuario.usuario_show.id_profesor != undefined">
                                            <li class="list-group-item">
                                                <b>Listado de Asignaturas que imparte:</b>
                                            </li>
                                            <li class="list-group-item fist-item" ng-repeat="asignatura in listaUsuario.asignaturas_profesor">
                                                <span>{{asignatura.nombre_asignatura}}</span>
                                            </li>
                                        </div>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
